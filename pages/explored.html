<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Explore Page</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../src/input.css">
<link rel="stylesheet" href="..//src/output.css">
<link rel="stylesheet" href="../src/input.css"/>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" />

  <!-- Flowbite -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.7.0/flowbite.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.7.0/flowbite.min.js"></script>

  <style>
    .image {
      width: 100vw;
      object-fit: cover;
      height: 530px;
      opacity: 0.3;
    }
  </style>
</head>

<body class="bg-gray-100 dark:bg-gray-900">

  <!-- HEADER -->

  <header id="header" class="fixed top-0 left-0 w-full z-50 px-6 py-4 flex items-center justify-between
     bg-transparent transition-all duration-300">

  <!-- Logo -->
  <div class="flex items-center gap-1">
    <a href="#" class="text-3xl font-bold tracking-tight drop-shadow-md">
      <span class="text-white font-type-logo">Cam</span>
      <span class="text-blue-500 font-type-logo">Flix</span>
    </a>
  </div>

  <!-- Search bar -->
  <div class="hidden md:flex flex-1 max-w-md mx-8">
    <div class="relative w-full">
      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
        <svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
      </div>
     <input type="text"
       class="block w-full pl-10 pr-3 py-2 border border-gray-600/50 bg-gray-600/50 rounded-full leading-5 
              text-white focus:outline-none focus:ring-1 sm:text-sm 
              transition duration-150 ease-in-out"
       placeholder="Search..." />
    </div>
  </div>

  <!-- Nav links -->
  <nav class="hidden md:flex items-center gap-6 text-white">
    <a href="/index.html" class="hover:text-gray-400 transition-colors">Home</a>
    <a href="./about.html" class="hover:text-gray-400 transition-colors">About Us</a>
    <a href="./explored.html" class="inline-flex items-center gap-1 hover:text-gray-400 transition-colors">
      <span>Let's Explore</span>
      <svg class="w-4 h-4 transition-transform duration-300 group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </a>

    <!-- Dark / Light Mode Button -->
    <button id="theme-toggle" class="p-2 rounded-full bg-white text-black hover:bg-gray-200 transition shadow-lg">
      <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
    </button>
  </nav>

  <!-- Mobile menu button -->
  <button id="mobile-menu-btn" class="md:hidden text-white p-2 focus:outline-none drop-  shadow-md">
    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
    </svg>
  </button>

</header>

<!-- CAROUSEL -->
<div id="default-carousel" class="relative w-full h-screen" data-carousel="slide">
  <!-- Carousel wrapper -->
  <div class="relative h-full overflow-hidden">
    <!-- Slide 1 -->
    <div class="hidden duration-700 ease-in-out" data-carousel-item="active">
      <img src="https://cdnb.artstation.com/p/assets/images/images/053/000/821/large/sonu-avtar-title.jpg?1661189157"
           class="absolute w-full h-full object-cover inset-0" alt="Movie 1">
      <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"></div>
    </div>
    <!-- Slide 2 -->
    <div class="hidden duration-700 ease-in-out" data-carousel-item>
      <img src="https://mir-s3-cdn-cf.behance.net/projects/404/28917d237964319.Y3JvcCwyNzAwLDIxMTEsMCw3OTU.jpg"
           class="absolute w-full h-full object-cover inset-0" alt="Movie 2">
      <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"></div>
    </div>
    <!-- Slide 3 -->
    <div class="hidden duration-700 ease-in-out" data-carousel-item>
      <img src="https://i.ytimg.com/vi/pNIRHvS2bLM/hq720.jpg"
           class="absolute w-full h-full object-cover inset-0" alt="Movie 3">
      <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"></div>
    </div>
  </div>

  <!-- Slider indicators -->
  <div class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3">
    <button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="0"></button>
    <button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="1"></button>
    <button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="2"></button>
  </div>

  <!-- Slider controls -->
  <button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4" data-carousel-prev>
    <span class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-black/30 hover:bg-black/50 backdrop-blur-sm">
      <svg class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
    </span>
  </button>
  <button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4" data-carousel-next>
    <span class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-black/30 hover:bg-black/50 backdrop-blur-sm">
      <svg class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </span>
  </button>
</div>
  <!-- Page Title -->
  <h1 class="text-2xl font-bold ml-7 mt-7 dark:text-white">Explore movies here</h1>

  <!-- Movies Grid -->
  <div id="movies-grid" class="dark:bg-background grid sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 xl:mx-8 lg:mx-4 mx-2 gap-6 mt-5">
    <!-- Movies will load here dynamically -->
  </div>

  <!-- Load More Button -->
  <div class="flex justify-center mt-6">
    <button id="load-more" class="flex items-center justify-center rounded-2xl dark:bg-blue-700 dark:hover:bg-blue-500 text-white bg-blue-400 hover:bg-blue-600 font-bold w-[120px] h-[50px] text-center">
      Load More
    </button>
  </div>



  <script>
    // Dark/Light toggle
    const toggleButton = document.getElementById('theme-toggle');
    toggleButton.addEventListener('click', () => document.documentElement.classList.toggle('dark'));

    // Header scroll effect
    const header = document.getElementById('header');
    window.addEventListener('scroll', () => {
      if(window.scrollY > 50){
        header.classList.add('backdrop-blur-md', 'bg-black/40');
      } else {
        header.classList.remove('backdrop-blur-md', 'bg-black/40');
      }
    });

    // TMDB Movies
    const apiKey = "4113f3ad734e747a5b463cde8c55de42"; // your API key
    const imageBaseURL = "https://image.tmdb.org/t/p/w500";
    let currentPage = 1;

    const moviesGrid = document.getElementById("movies-grid");
    const loadMoreBtn = document.getElementById("load-more");

    function fetchPopularMovies(page = 1) {
      fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=${page}`)
        .then(res => res.json())
        .then(data => {
          data.results.forEach(movie => {
            const card = document.createElement("div");
            card.classList.add("card", "dark:text-white", "text-black");

            card.innerHTML = `
              <div>
                <a href="#">
                  <img class="w-[291px] h-[376px] object-cover mx-auto rounded-3xl transform transition-transform duration-300 hover:scale-95"
                       src="${imageBaseURL + movie.poster_path}" alt="${movie.title}">
                </a>
              </div>
              <div class="mt-2 mb-2 flex justify-around items-start">
                <div>
                  <span class="block font-semibold text-[20px] line-clamp-1">${movie.title}</span>
                  <p class="text-[16px]">Release: ${movie.release_date}</p>
                </div>
                <span class="text-[18px] mt-1 flex items-center gap-1.5 text-yellow-400">
                  <i class="fa-solid fa-star"></i>
                  <span>${movie.vote_average}</span>
                </span>
              </div>
            `;
            moviesGrid.appendChild(card);
          });
        })
        .catch(err => console.error("Error fetching movies:", err));
    }

    // Initial fetch
    fetchPopularMovies(currentPage);

    // Load More
    loadMoreBtn.addEventListener("click", () => {
      currentPage++;
      fetchPopularMovies(currentPage);
    });
  </script>

</body>
</html>
